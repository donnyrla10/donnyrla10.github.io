---
title: "[Algorithm] 금액 맞추기"
excerpt: "재귀함수로 금액 맞추기"
categories:
    - Algorithm
tags:
    - [Algorithm, Recursive Function]
toc: true
toc_sticky: true
date: 2021-12-02
---
<br>

> **🚨 읽으시기 전에 주의사항 🚨** <br>*[문제로 풀어보는 알고리즘 - 황인욱]*  책으로 공부를 하며 직접 코드도 작성해보고 손수 노트에 규칙을 이해하려고 용쓰다가, 나름 이해를 했다고 생각하며 작성한 글입니다. 최대한 제가 이해한 방향으로 작성하려고 노력했고, 혹시나 어쩌다(!) 이 포스팅을 보신다면 완벽하지 않을 수 있다는 의심을 항상 가지고 읽어주시길 바랍니다. 껄껄 


그럼 금액 맞추기 문제를 분석해서 어떻게 해결 할 수 있을지 포스팅 해보겠습니다~ 고고~~


## 금액 맞추기

지폐 1만원, 2만원, 5만원, 10만원, 20만원, 50만원의 여섯가지 지폐가 있다고 해보자. 100만원의 물건을 구매할 때, 이 지폐들로 지불하는 방법은 모두 몇 가지가 있을까?

bills[6] = {1, 2, 5, 10, 20, 50} <br>
m = 100, n = 6


---


<br>

우선 가장 큰 액수의 지폐(`bills[n-1]`)로 지불 금액(`m`)을 지불할 수 있는 방법을 보면,<br>50만원의 경우

(0개 사용 시, **나머지 지폐**로 100만원 지불)<br>
(1개 사용 시, **나머지 지폐**로 50만원 지불)<br>
(2개 사용 시, **나머지 지폐**로 0원 지불)


이런 경우가 나온다. "나머지 지폐"로 지불 금액을 채워야 하기 때문에
<br>*그 속으로 들어가서* 또 지불 경우의 수를 나눠서 지불 금액을 채워야 한다. 
<br>이것을 보아하니,,, **재귀함수**를 사용하면 간결하게 해결할 수 있을 것 같다.<br>
(~~머리를 빡빡 굴려야 하는 고통 속에서...~~)


일단 여기서 다시 생각해보는 중요 포인트! 

> → 가장 큰 지폐로 지불 금액(m)을 지불할 수 있는 방법을 찾아서, 경우의 수를 찾고 **그 속**으로 들어가 계산하도록 하자!!

<br>
그러므로,, 재귀함수에 사용될 규칙을 찾아야 한다. 재귀함수의 매개변수에 규칙을 적용시켜야하는데 이 매개변수는 지불 금액과 지폐의 개수로,

(예) 가장 큰 지불 액수인 `50만원`으로 지불 금액(`m`)을 지불할 수 있는 방법은 `3`가지 방법이다. <br>
→ 즉, 지불 금액(`m`)에서 지폐의 금액(`50만원`)을 나눈 값 + 지폐(`50만원`) 사용하지 않을 경우

```cpp
_case = m / bills[n-1]; 
```

재귀 함수의 첫번째 인자인 `m`에 경우의 수로 지불 금액에서 지불한 후의 값을 넣어주고, 지폐의 개수를 하나 빼주면 된다!!

```cpp
pay(m - bills[n-1] * i, bills, n-1)
```

## 코드

```cpp
#include <iostream>
using namespace std;

int pay(int m, int bills[], int n){
    int count = 0, _case;
    
    //기저조건(base case)
    //낼 수 있는 지폐 종류가 1개일 때
    //딱 나누어떨어지면 count++ 아니면 count 안됨(->지불금액 맞출 수 없음)
    if(n==1) 
        return (m % bills[0]==0) ? 1 : 0;
    

    //지불금액을 가장 큰 금액의 지폐로 몇 번 나눠서 낼 수 있는지 경우의 수
    _case = m / bills[n-1]; 
    

    //경우의 수만큼 반복문을 돌려서 각 경우의 수 카운트
    //경우의 수 안에도 경우의 수가 또 있으므로 재귀함수 호출!
    for(int i = 0; i <= _case; i++) 
        count += pay(m - bills[n-1] * i, bills, n-1); 
    
    return count;
}

int main(){
    int ex1[6] = {1, 2, 5, 10, 20, 50};
    int ex2[3] = {1, 2};

    cout << pay(100, ex1, 6) << endl;
    cout << pay(5, ex2, 2) << endl;

    //4562
    //3
}
```


재귀함수를 구현하는 것은 꽤나 까다롭고 헷갈린다.. 나도 정말 기초적인 문제들을 제외하곤 재귀함수를 해석하는 것마저 헷갈려서 힘들어했다. (지금도 뭐..ㅋㅋ)

그럴수록 많이 풀어보고 분석하는 것이 중요하다고 생각한다. 

문제들이 으레 그렇듯 일단 규칙을 찾아내야 한다. 특히, 재귀함수는 더욱더 그 규칙을 찾는 것이 중요하다고 생각하는데, 스스로 정리한 재귀함수 구현하기 방법은

1. 간단한 **예시**를 만들어서 차근차근 케이스 속으로 들어가기. (`트리 그리기`)
2. 그 속에서 규칙을 찾아서 적용하기
3. 기저 조건(`base case`, 재귀함수를 끝낼 조건) 제대로 설정하기 
(재귀함수의 꽃은 기저조건 아닙니까(?);; ㅎ..)

사실 말이 쉽지, 문제를 맞닥트리면 어버버.. 하는 것이 현실이다. 하지만 앞서 말했듯이 많이 풀어보는 것이 최고의 학습 방법일 것이라고 생각한다. (따흑

개인적으로 제일 효과좋은 것은 간단한 예시 만들기..!!
<br>예를 들어, 100만원, 50만원, ... 이었다면 
총 금액(`10`), 지폐 종류 (`{4, 2, 1}`) 으로 적은 경우의 수로 빠르게 계산해볼 수 있는 예시 만들어서 규칙을 찾도록 해보자.. <br>(여기서 너무 간단해지면.. 규칙을 찾기가 아무래도 어렵겠죠?^^)


재귀함수 많이 많이 연습하자! 화잍ㅇ~~👻


> 오류/오타가 있거나 말이 안된다. 이게 무슨 말도 안되는 소리냐; 
<br>하는 부분이 있다면 꼭 댓글로 알려주세요! 감사합니다! 🙃= 🙂= 🙃= 🙂= 3